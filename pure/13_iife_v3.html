<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="utf-8">
    <title>IIFE</title>
</head>

<body>

    <script type="text/javascript">
        var clerk = (function() {
            var name = 'Teo';
            var sex = '남자';
            var position = '수석 엔지니어';            
            
            var salary = 2000;
            var taxSalary = 200;
            
            var totalBonus = 100;
            var taxBonus = 10;

            var payBonus = function() {
                totalBonus = totalBonus - taxBonus;
                return totalBonus;
            };
            var paySalary = function() {
                return salary - taxSalary;
            };

            // Public 속성, 메소드
            return {
                name: name,
                sex: sex,
                position: position,
                // salary: salary, // return 값에 포함되지 않은 변수는 외부에서 접근할 수 없다. 
                paySalary: paySalary,
                payBonus: payBonus
            };
        }()); // 즉시실행함수가 clerk변수에 저장되는 것이 아니라 즉시실행함수의 return값이 clerk변수에 저장됩니다. 
        // () 이걸 빼면?? 바로 return 하지 못함. 

        // name 속성은 public
        console.log(clerk.name); // 'Teo' 출력
        console.log(clerk.salary); // undefined 출력
        // salary 변수는 즉시실행함수 내부 변수이므로 private(return 값에 포함되지 않은 변수는 외부에서 접근할 수 없다.)

        // paySalary 메소드는 public
        console.log(clerk.paySalary()); // 1800 출력

        // payBonus 메소드는 public
        console.log(clerk.payBonus()); // 90 출력
        console.log(clerk.payBonus()); // 80 출력
    </script>

</body>

</html>
